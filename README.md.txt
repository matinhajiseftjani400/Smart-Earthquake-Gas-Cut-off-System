# SEGCOS – سیستم هوشمند قطع‌کن گاز با تشخیص لرزش و کنترل بلوتوثی

## معرفی پروژه

SEGCOS یک سیستم هوشمند برای جلوگیری از نشت گاز در زمان وقوع زلزله یا لرزش شدید است.
این سیستم با استفاده از سنسور MPU-6050 شتاب و لرزش محیط را اندازه‌گیری کرده و در صورت تشخیص لرزش شدید، جریان گاز را با فعال کردن رله قطع می‌کند.
همچنین کاربر می‌تواند به صورت دستی از طریق بلوتوث و گوشی هوشمند، رله را کنترل کند.

---

## سخت‌افزار مورد نیاز

* برد Arduino (مثلا Arduino Uno)
* سنسور شتاب‌سنج و ژیروسکوپ MPU-6050
* ماژول رله (Relay Module)
* ماژول بلوتوث HC-05 یا HC-06
* سیم‌های اتصال و منبع تغذیه مناسب

---

## اتصالات سخت‌افزاری

| قطعه         | پین اتصال Arduino          |
| ------------ | -------------------------- |
| MPU-6050     | SDA به A4, SCL به A5       |
| ماژول رله    | پین دیجیتال 7              |
| ماژول بلوتوث | RX به پین 10, TX به پین 11 |

---

## ویژگی‌ها

* تشخیص لرزش شدید با MPU-6050
* قطع خودکار جریان گاز با فعال‌سازی رله
* کنترل دستی رله از طریق بلوتوث با گوشی هوشمند
* هشدار در سریال مانیتور هنگام فعال شدن رله

---

## نصب و راه‌اندازی

1. سخت‌افزار را طبق جدول اتصالات وصل کنید.
2. کد پروژه را در Arduino IDE باز کنید.
3. کتابخانه‌های `MPU6050`، `Wire` و `SoftwareSerial` نصب و فعال باشند.
4. کد را روی برد Arduino آپلود کنید.
5. ماژول بلوتوث را با گوشی هوشمند جفت کنید (پین پیش‌فرض معمولا 1234 یا 0000 است).
6. با استفاده از نرم‌افزار بلوتوث (مثل Serial Bluetooth Terminal یا اپلیکیشن اختصاصی) فرمان‌های زیر را ارسال کنید:

   * ارسال `1` برای روشن کردن رله (قطع جریان گاز)
   * ارسال `0` برای خاموش کردن رله (وصل جریان گاز)

---

## اپلیکیشن اندروید

اپلیکیشن اندروید اختصاصی این پروژه با استفاده از **AppInventor MIT** ساخته شده است.
این اپلیکیشن امکان کنترل راحت و امن رله از طریق بلوتوث را برای کاربر فراهم می‌کند.

---

## نحوه کار برنامه

* برنامه با خواندن داده‌های شتاب از MPU-6050 تشخیص می‌دهد آیا لرزش شدید (مقادیر بالا در محورهای X، Y یا Z) رخ داده است یا خیر.
* در صورت تشخیص لرزش، رله فعال می‌شود (قطع جریان گاز) و پیام "Vibration detected! Relay ON" در سریال مانیتور نمایش داده می‌شود.
* کاربر می‌تواند از طریق بلوتوث یا سریال کامپیوتر با ارسال دستور `0` یا `1` رله را به صورت دستی کنترل کند.

---

## نکات مهم

* مقدار آستانه تشخیص لرزش در کد (`15000` و `20000`) بسته به محیط و حساسیت سنسور ممکن است نیاز به تنظیم داشته باشد.
* اطمینان حاصل کنید که ماژول رله به درستی با ولتاژ مورد نظر و جریان گاز سازگار است و نصب ایمنی رعایت شده است.
* قبل از استفاده، تست‌های لازم جهت صحت عملکرد سیستم را انجام دهید.

---

## توسعه و بهبودهای آینده

* افزودن اپلیکیشن موبایل با رابط کاربری آسان برای کنترل و نمایش وضعیت
* ثبت لاگ و اطلاع‌رسانی به کاربر در صورت قطع یا وصل شدن جریان گاز
* اتصال به سیستم‌های هشدار زلزله و اتوماسیون خانگی

---

## لایسنس

این پروژه تحت مجوز MIT ارائه شده است.

---